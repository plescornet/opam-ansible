---
# set the default values for the role

# Proxy settings
http_proxy: ""
https_proxy: ""

#########################
### Opam installation ###
#########################

# Installation method: 'package_manager' or 'direct' (using opam.ocaml.org/install.sh)
opam_install_method: direct

# If a direct installation is used, the version number of the opam executable
opam_install_options_cli_options: ""
### eg if you want a specific version of opam :
# opam_install_options: "--version 2.0.1"
### or the dev version :
# opam_install_options: "--dev"

# External dependencies required for the installation
opam_external_dependencies:
  - patch
  - bubblewrap
  - gcc
  - make
  - unzip

# Force update the opam executable with direct installation
opam_force_update: false

# If a package manager is used, the package name
opam_package_name: opam

##########################
### Opam configuration ###
##########################

# Installation location: 'system_wide' or 'user'.
opam_install_location: system_wide

# The specific folder can be set below, but the user initialization will be done in the user's home directory without sudo to avoid permission issues

# In case of system-wide installation, the root location of the OPAM installation will only be writable by root/sudo
opam_root_location_system_wide: /opt/opam

# In case of user installation, the root location of the OPAM installation will be in the user's home directory and user-writable
opam_root_location_user: "{{ ansible_env.HOME + '/.opam' }}"
opam_user: "{{ ansible_user_id }}"

#####################
### Opam packages ###
#####################

opam_switches:
  - name: "default"
    compiler: "4.14.2"
    packages:
      - dune
      - tuareg
      - ocaml-lsp-server
      - utop
      - ocamlformat
      - user-setup
      - jupyter
      - qcheck
      - alcotest
      - qcheck-alcotest
  - name: "bleeding-edge"
    compiler: "5.2.0"
    packages:
      - dune
      - tuareg
      - ocaml-lsp-server
      - utop
      - ocamlformat
      - user-setup
      - qcheck
      - alcotest
      - qcheck-alcotest

default_switch: "default"

#########################
### Post-installation ###
#########################

post_install_user: "{{ opam_user }}"

# user_setup configuration
configure_user_setup: true

# Jupyter
configure_jupyter: true
jupyter_switch: "default"

# VSCode
configure_vscode: true
vscode_executable_name: codium
vscode_extensions:
  - "ocamllabs.ocaml-platform"
